
<section dir="rtl">
  <p class="mb-1 fs-5">المادة :</p>
  <select [(ngModel)]="chosenSubject" class="form-select mb-5 cursor-pointer" aria-label="Default select example">
    <option *ngFor="let subject of allSubjects; let i = index" [selected]="i==0" [value]="subject">{{subject}}</option>
  </select>

  <div class="table-responsive">
    <table class="table table-striped table-responsive-sm">
      <thead>
        <tr>
          <th *ngFor="let title of ['', 'الاسم', 'المادة', 'الدرجه']" class="bg-main text-white text-center">{{title}}</th>

        </tr>
      </thead>
      <tbody>

        @if (chosenSubject == 'كل المواد') {

          @for (student of allStudents; track $index; let i = $index) {
  
            <tr *ngFor="let subject of student.subjects; let j = index" class="text-center">
              <td>{{   i + 1 }}</td>
              <td>{{ student.name }}</td>
              <td>{{ subject.name }}</td>
              <td>{{ subject.degree}}</td>
            </tr>
          }
        } @else {

          @for (student of allStudents; track $index; let i = $index) {
  
            @for (subject of student.subjects; track $index;) {
              
              @if (subject.name == chosenSubject) {

                <tr  class="text-center">
                  <td>{{   i + 1 }}</td>
                  <td>{{ student.name }}</td>
                  <td>{{ subject.name }}</td>
                  <td>{{ subject.degree}}</td>
                </tr>
              }
              
            }
            
          }
        }


      </tbody>
    </table>
  </div>
</section>